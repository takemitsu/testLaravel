<div ng-controller="IndexController">

	<p class="text-right">
		<button class="btn btn-default" ng-click="reloadComment()">更新</button>
		<button class="btn btn-default" ng-click="addComment()">追加</button>
	</p>

	<div class="text-center" ng-show="loading"><span class="fa fa-meh-o fa-5x fa-spin"></span></div>

	<div class="panel panel-default" ng-hide="loading">
		<div class="panel-heading">
			<h4 class="panel-title">トピック一覧</h4>
		</div>
		<div class="panel-body">
			<div ng-repeat="p in posts">
				<div class="row" style="border-bottom: solid 1px #f0f0f0; padding: 10px 0;">
					<div class="col-md-5">
						<span class="text-primary">{{ p.subject }}</span>
						<a href="#/topic/{{p.id}}" class="btn btn-default btn-xs">詳細</a>
					</div>
					<div class="col-md-7 text-right">
						<span class="text-warning"> {{ p.name }}</span>
						<span class="text-muted"> ({{ p.created_at }})</span>
						<button ng-click="deleteComment(p.id)" class="btn btn-danger btn-xs" style="cursor:pointer;">削除</button>
					</div>
				</div>
				<div class="row" style="border-bottom: solid 1px #f0f0f0; padding: 10px 0;">
					<div class="col-md-12">
						<p style="white-space: pre-line;">{{ p.comment }}</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
